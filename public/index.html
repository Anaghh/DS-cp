<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cash Flow Simplification - 4 Algorithm Comparison</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Vis.js for graph visualization -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" />
</head>
<body>
    <!-- Animated Background -->
    <div class="bg-animation">
        <div class="bg-gradient"></div>
        <div class="bg-grid"></div>
        <div class="floating-orbs">
            <div class="orb orb-1"></div>
            <div class="orb orb-2"></div>
            <div class="orb orb-3"></div>
        </div>
    </div>

    <header>
        <div class="header-content">
            <div class="logo-container">
                <div class="logo-icon">
                    <i data-lucide="wallet" class="icon-large"></i>
                </div>
                <div class="logo-rings">
                    <div class="ring ring-1"></div>
                    <div class="ring ring-2"></div>
                    <div class="ring ring-3"></div>
                </div>
            </div>
            <h1>Cash Flow <span class="gradient-text">Simplification</span></h1>
            <p class="subtitle">
                <i data-lucide="git-compare" class="icon-inline"></i>
                4 Different Algorithms Solving the Same Problem
            </p>
            <div class="team-badges">
                <span class="badge"><i data-lucide="user" class="icon-xs"></i> Digvijay</span>
                <span class="badge"><i data-lucide="user" class="icon-xs"></i> Shahid</span>
                <span class="badge"><i data-lucide="user" class="icon-xs"></i> Eeshan</span>
                <span class="badge"><i data-lucide="user" class="icon-xs"></i> Anagh</span>
            </div>
        </div>
        <div class="header-decoration">
            <svg viewBox="0 0 1440 120" preserveAspectRatio="none">
                <path d="M0,60 C360,120 720,0 1080,60 C1260,90 1380,60 1440,60 L1440,120 L0,120 Z" fill="var(--bg-primary)"/>
            </svg>
        </div>
    </header>

    <nav class="navbar">
        <div class="nav-container">
            <ul>
                <li><a href="#input-section"><i data-lucide="plus-circle" class="icon-nav"></i><span>Input</span></a></li>
                <li><a href="#visualization-section"><i data-lucide="git-branch" class="icon-nav"></i><span>Graphs</span></a></li>
                <li><a href="#results-section"><i data-lucide="cpu" class="icon-nav"></i><span>Results</span></a></li>
                <li><a href="#comparison-section"><i data-lucide="bar-chart-3" class="icon-nav"></i><span>Compare</span></a></li>
                <li><a href="learn.html"><i data-lucide="book-open" class="icon-nav"></i><span>Learn</span></a></li>
            </ul>
        </div>
    </nav>

    <main class="container">
        <!-- INPUT SECTION -->
        <section id="input-section" class="section">
            <div class="section-header">
                <div class="section-icon">
                    <i data-lucide="send" class="icon-section"></i>
                </div>
                <h2>Add Transactions</h2>
            </div>
            <div class="input-container">
                <div class="form-group">
                    <div class="input-wrapper">
                        <i data-lucide="user" class="input-icon"></i>
                        <input id="fromInput" placeholder="From (person name)" class="input-field">
                    </div>
                    <div class="input-wrapper">
                        <i data-lucide="user-check" class="input-icon"></i>
                        <input id="toInput" placeholder="To (person name)" class="input-field">
                    </div>
                    <div class="input-wrapper">
                        <i data-lucide="indian-rupee" class="input-icon"></i>
                        <input id="amountInput" placeholder="Amount (₹)" type="number" class="input-field">
                    </div>
                </div>
                <div class="button-group">
                    <button onclick="addTransaction()" class="btn btn-primary">
                        <i data-lucide="plus" class="icon-btn"></i> Add Transaction
                    </button>
                    <button onclick="loadSampleData()" class="btn btn-secondary">
                        <i data-lucide="database" class="icon-btn"></i> Sample Data
                    </button>
                    <button onclick="clearAll()" class="btn btn-danger">
                        <i data-lucide="trash-2" class="icon-btn"></i> Clear All
                    </button>
                </div>
            </div>

            <div id="transactions-list" class="transactions-list">
                <h3><i data-lucide="list" class="icon-inline"></i> Current Transactions (0)</h3>
                <p class="empty-message">No transactions added yet</p>
            </div>
        </section>

        <!-- GRAPH VISUALIZATION SECTION -->
        <section id="visualization-section" class="section">
            <div class="section-header">
                <div class="section-icon">
                    <i data-lucide="share-2" class="icon-section"></i>
                </div>
                <h2>Transaction Graphs</h2>
            </div>
            <div class="graph-container">
                <div class="graph-box">
                    <div class="graph-header">
                        <i data-lucide="git-merge" class="icon-graph"></i>
                        <h3>Original Transactions</h3>
                    </div>
                    <div id="graph-before" class="graph"></div>
                    <p class="graph-info" id="before-info">
                        <i data-lucide="info" class="icon-xs"></i> Add transactions to see graph
                    </p>
                </div>
                <div class="graph-box graph-box-success">
                    <div class="graph-header">
                        <i data-lucide="git-pull-request" class="icon-graph"></i>
                        <h3>Simplified (Algorithm 1)</h3>
                    </div>
                    <div id="graph-after" class="graph"></div>
                    <p class="graph-info" id="after-info">
                        <i data-lucide="info" class="icon-xs"></i> Run algorithms to see simplified graph
                    </p>
                </div>
            </div>
        </section>

        <!-- ALGORITHM RESULTS SECTION -->
        <section id="results-section" class="section">
            <div class="section-header">
                <div class="section-icon">
                    <i data-lucide="zap" class="icon-section"></i>
                </div>
                <h2>Algorithm Results</h2>
            </div>
            <button onclick="runAllAlgorithms()" class="btn btn-primary btn-large btn-glow">
                <i data-lucide="play" class="icon-btn"></i> Run All Algorithms
            </button>

            <div class="algorithms-grid">
                <!-- Algorithm 1: Greedy -->
                <div class="algorithm-card" data-algo="1">
                    <div class="card-header algo-1">
                        <div class="algo-icon"><i data-lucide="arrow-right-left"></i></div>
                        <div class="algo-info">
                            <h3>Greedy Two-Pointer</h3>
                            <p class="person-label"><i data-lucide="user" class="icon-xs"></i> Digvijay</p>
                        </div>
                        <div class="algo-number">01</div>
                    </div>
                    <div class="card-body">
                        <div class="ds-tag"><i data-lucide="layers" class="icon-xs"></i> Map • Vector • Sorting</div>
                        <div id="algo1-results" class="results-list">
                            <p class="placeholder">Run algorithms to see results</p>
                        </div>
                        <div id="algo1-stats" class="stats"></div>
                        <button onclick="showWalkthrough(1)" class="btn btn-small btn-outline">
                            <i data-lucide="eye" class="icon-btn"></i> Walkthrough
                        </button>
                    </div>
                </div>

                <!-- Algorithm 2: DFS -->
                <div class="algorithm-card" data-algo="2">
                    <div class="card-header algo-2">
                        <div class="algo-icon"><i data-lucide="git-branch"></i></div>
                        <div class="algo-info">
                            <h3>DFS Graph Traversal</h3>
                            <p class="person-label"><i data-lucide="user" class="icon-xs"></i> Shahid</p>
                        </div>
                        <div class="algo-number">02</div>
                    </div>
                    <div class="card-body">
                        <div class="ds-tag"><i data-lucide="layers" class="icon-xs"></i> Adjacency List • DFS • Map</div>
                        <div id="algo2-results" class="results-list">
                            <p class="placeholder">Run algorithms to see results</p>
                        </div>
                        <div id="algo2-stats" class="stats"></div>
                        <button onclick="showWalkthrough(2)" class="btn btn-small btn-outline">
                            <i data-lucide="eye" class="icon-btn"></i> Walkthrough
                        </button>
                    </div>
                </div>

                <!-- Algorithm 3: Union-Find -->
                <div class="algorithm-card" data-algo="3">
                    <div class="card-header algo-3">
                        <div class="algo-icon"><i data-lucide="link"></i></div>
                        <div class="algo-info">
                            <h3>Union-Find</h3>
                            <p class="person-label"><i data-lucide="user" class="icon-xs"></i> Eeshan</p>
                        </div>
                        <div class="algo-number">03</div>
                    </div>
                    <div class="card-body">
                        <div class="ds-tag"><i data-lucide="layers" class="icon-xs"></i> Disjoint Sets • Path Compression</div>
                        <div id="algo3-results" class="results-list">
                            <p class="placeholder">Run algorithms to see results</p>
                        </div>
                        <div id="algo3-stats" class="stats"></div>
                        <button onclick="showWalkthrough(3)" class="btn btn-small btn-outline">
                            <i data-lucide="eye" class="icon-btn"></i> Walkthrough
                        </button>
                    </div>
                </div>

                <!-- Algorithm 4: Heap -->
                <div class="algorithm-card" data-algo="4">
                    <div class="card-header algo-4">
                        <div class="algo-icon"><i data-lucide="bar-chart-2"></i></div>
                        <div class="algo-info">
                            <h3>Min-Heap Priority Queue</h3>
                            <p class="person-label"><i data-lucide="user" class="icon-xs"></i> Anagh</p>
                        </div>
                        <div class="algo-number">04</div>
                    </div>
                    <div class="card-body">
                        <div class="ds-tag"><i data-lucide="layers" class="icon-xs"></i> Priority Queue • Min-Heap</div>
                        <div id="algo4-results" class="results-list">
                            <p class="placeholder">Run algorithms to see results</p>
                        </div>
                        <div id="algo4-stats" class="stats"></div>
                        <button onclick="showWalkthrough(4)" class="btn btn-small btn-outline">
                            <i data-lucide="eye" class="icon-btn"></i> Walkthrough
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- COMPARISON SECTION -->
        <section id="comparison-section" class="section">
            <div class="section-header">
                <div class="section-icon">
                    <i data-lucide="trending-up" class="icon-section"></i>
                </div>
                <h2>Metrics Comparison</h2>
            </div>
            <div class="comparison-table-wrapper">
                <table id="comparison-table" class="comparison-table">
                    <thead>
                        <tr>
                            <th><i data-lucide="cpu" class="icon-xs"></i> Algorithm</th>
                            <th><i data-lucide="check-circle" class="icon-xs"></i> Settlements</th>
                            <th><i data-lucide="arrow-right" class="icon-xs"></i> Original Txs</th>
                            <th><i data-lucide="percent" class="icon-xs"></i> Efficiency</th>
                            <th><i data-lucide="clock" class="icon-xs"></i> Time</th>
                            <th><i data-lucide="hard-drive" class="icon-xs"></i> Space</th>
                        </tr>
                    </thead>
                    <tbody id="comparison-body">
                        <tr>
                            <td colspan="6" style="text-align: center; padding: 30px;">
                                <i data-lucide="play-circle" class="icon-inline"></i> Run algorithms to see comparison
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-logo">
                <i data-lucide="wallet" class="icon-footer"></i>
                <span>Cash Flow Simplification</span>
            </div>
            <div class="footer-info">
                <p><i data-lucide="code-2" class="icon-xs"></i> Data Structures & Algorithms Class Project</p>
                <p><i data-lucide="users" class="icon-xs"></i> 4-Person Team: Algorithm Design, Implementation & Comparison</p>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 All rights reserved</p>
            </div>
        </div>
    </footer>

    <!-- Walkthrough Modal -->
    <div id="walkthrough-modal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeWalkthrough()">
                <i data-lucide="x"></i>
            </button>
            <h2 id="walkthrough-title"><i data-lucide="play-circle" class="icon-inline"></i> Algorithm Walkthrough</h2>
            <div id="walkthrough-body"></div>
        </div>
    </div>

    <script src="js/main.js"></script>
    <script src="js/api.js"></script>
    <script src="js/visualization.js"></script>
    <script>
        // Initialize Lucide icons
        lucide.createIcons();
        
        // Re-initialize icons after dynamic content changes
        const originalAddTransaction = window.addTransaction;
        if (originalAddTransaction) {
            window.addTransaction = function() {
                originalAddTransaction.apply(this, arguments);
                lucide.createIcons();
            };
        }
        
        // Add scroll animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate-in');
                }
            });
        }, observerOptions);
        
        document.querySelectorAll('.section, .algorithm-card, .explanation-card').forEach(el => {
            observer.observe(el);
        });
        
        // Smooth scroll for navigation (only for anchor links)
        document.querySelectorAll('.navbar a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });
    </script>
</body>
</html>

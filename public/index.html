<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üí∞ Cash Flow Simplification - 4 Algorithm Comparison</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Vis.js for graph visualization -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" />
</head>
<body>
    <header>
        <div class="header-content">
            <h1>üí∞ Cash Flow Simplification</h1>
            <p class="subtitle">4 Different Algorithms Solving the Same Problem</p>
            <p class="team">Team Members: Person A ‚Ä¢ Person B ‚Ä¢ Person C ‚Ä¢ Person D</p>
        </div>
    </header>

    <nav class="navbar">
        <ul>
            <li><a href="#input-section">Input</a></li>
            <li><a href="#visualization-section">Graphs</a></li>
            <li><a href="#results-section">Results</a></li>
            <li><a href="#comparison-section">Comparison</a></li>
            <li><a href="#explanations-section">Learn</a></li>
        </ul>
    </nav>

    <main class="container">
        <!-- INPUT SECTION -->
        <section id="input-section" class="section">
            <h2>‚ûï Add Transactions</h2>
            <div class="input-container">
                <div class="form-group">
                    <input id="fromInput" placeholder="From (person name)" class="input-field">
                    <input id="toInput" placeholder="To (person name)" class="input-field">
                    <input id="amountInput" placeholder="Amount ($)" type="number" class="input-field">
                </div>
                <div class="button-group">
                    <button onclick="addTransaction()" class="btn btn-primary">+ Add Transaction</button>
                    <button onclick="loadSampleData()" class="btn btn-secondary">üìã Sample Data</button>
                    <button onclick="clearAll()" class="btn btn-danger">üóëÔ∏è Clear All</button>
                </div>
            </div>

            <div id="transactions-list" class="transactions-list">
                <h3>Current Transactions (0)</h3>
                <p class="empty-message">No transactions added yet</p>
            </div>
        </section>

        <!-- GRAPH VISUALIZATION SECTION -->
        <section id="visualization-section" class="section">
            <h2>üìä Transaction Graphs</h2>
            <div class="graph-container">
                <div class="graph-box">
                    <h3>Original Transactions</h3>
                    <div id="graph-before" class="graph"></div>
                    <p class="graph-info" id="before-info">Add transactions to see graph</p>
                </div>
                <div class="graph-box">
                    <h3>Simplified (Algorithm 1)</h3>
                    <div id="graph-after" class="graph"></div>
                    <p class="graph-info" id="after-info">Run algorithms to see simplified graph</p>
                </div>
            </div>
        </section>

        <!-- ALGORITHM RESULTS SECTION -->
        <section id="results-section" class="section">
            <h2>üßÆ Algorithm Results</h2>
            <button onclick="runAllAlgorithms()" class="btn btn-primary btn-large">‚ñ∂Ô∏è Run All Algorithms</button>

            <div class="algorithms-grid">
                <!-- Algorithm 1: Greedy -->
                <div class="algorithm-card">
                    <div class="card-header algo-1">
                        <h3>Algorithm 1: Greedy Two-Pointer</h3>
                        <p class="person-label">Person A</p>
                    </div>
                    <div class="card-body">
                        <div class="ds-tag">Map ‚Ä¢ Vector ‚Ä¢ Sorting</div>
                        <div id="algo1-results" class="results-list">
                            <p class="placeholder">Run algorithms to see results</p>
                        </div>
                        <div id="algo1-stats" class="stats"></div>
                        <button onclick="showWalkthrough(1)" class="btn btn-small">üëÅÔ∏è Walkthrough</button>
                    </div>
                </div>

                <!-- Algorithm 2: DFS -->
                <div class="algorithm-card">
                    <div class="card-header algo-2">
                        <h3>Algorithm 2: DFS Graph Traversal</h3>
                        <p class="person-label">Person B</p>
                    </div>
                    <div class="card-body">
                        <div class="ds-tag">Adjacency List ‚Ä¢ DFS ‚Ä¢ Map</div>
                        <div id="algo2-results" class="results-list">
                            <p class="placeholder">Run algorithms to see results</p>
                        </div>
                        <div id="algo2-stats" class="stats"></div>
                        <button onclick="showWalkthrough(2)" class="btn btn-small">üëÅÔ∏è Walkthrough</button>
                    </div>
                </div>

                <!-- Algorithm 3: Union-Find -->
                <div class="algorithm-card">
                    <div class="card-header algo-3">
                        <h3>Algorithm 3: Union-Find</h3>
                        <p class="person-label">Person C</p>
                    </div>
                    <div class="card-body">
                        <div class="ds-tag">Disjoint Sets ‚Ä¢ Path Compression</div>
                        <div id="algo3-results" class="results-list">
                            <p class="placeholder">Run algorithms to see results</p>
                        </div>
                        <div id="algo3-stats" class="stats"></div>
                        <button onclick="showWalkthrough(3)" class="btn btn-small">üëÅÔ∏è Walkthrough</button>
                    </div>
                </div>

                <!-- Algorithm 4: Heap -->
                <div class="algorithm-card">
                    <div class="card-header algo-4">
                        <h3>Algorithm 4: Min-Heap Priority Queue</h3>
                        <p class="person-label">Person D</p>
                    </div>
                    <div class="card-body">
                        <div class="ds-tag">Priority Queue ‚Ä¢ Min-Heap ‚Ä¢ Max-Heap</div>
                        <div id="algo4-results" class="results-list">
                            <p class="placeholder">Run algorithms to see results</p>
                        </div>
                        <div id="algo4-stats" class="stats"></div>
                        <button onclick="showWalkthrough(4)" class="btn btn-small">üëÅÔ∏è Walkthrough</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- COMPARISON SECTION -->
        <section id="comparison-section" class="section">
            <h2>üìà Metrics Comparison</h2>
            <div class="comparison-table-wrapper">
                <table id="comparison-table" class="comparison-table">
                    <thead>
                        <tr>
                            <th>Algorithm</th>
                            <th>Settlements</th>
                            <th>Original Txs</th>
                            <th>Efficiency</th>
                            <th>Time Complexity</th>
                            <th>Space Complexity</th>
                        </tr>
                    </thead>
                    <tbody id="comparison-body">
                        <tr>
                            <td colspan="6" style="text-align: center; padding: 20px;">
                                Run algorithms to see comparison
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- ALGORITHM EXPLANATIONS -->
        <section id="explanations-section" class="section">
            <h2>üìö Algorithm Explanations</h2>

            <!-- Algorithm 1 Explanation -->
            <div class="explanation-card">
                <div class="exp-header algo-1">
                    <h3>Algorithm 1: Greedy Two-Pointer</h3>
                    <span class="exp-by">Explained by: Person A</span>
                </div>
                <div class="exp-content">
                    <p><strong>Core Idea:</strong> Sort all net balances and greedily match the person who owes the most with the person who is owed the most.</p>
                    
                    <div class="code-block">
                        <strong>Pseudocode:</strong>
                        <pre>
1. Calculate net balance for each person using Hash Map
2. Create vector with non-zero balances
3. Sort vector by amount (debtors first, creditors last)
4. Use two pointers: left=0, right=size-1
5. While left < right:
   - Match debtors[left] with creditors[right]
   - Calculate settlement amount
   - Record the settlement
   - Move pointer based on who's settled
                        </pre>
                    </div>

                    <div class="complexity">
                        <div class="complexity-item">
                            <strong>Time Complexity:</strong> <code>O(n log n)</code>
                            <p>Due to sorting. Matching is O(n).</p>
                        </div>
                        <div class="complexity-item">
                            <strong>Space Complexity:</strong> <code>O(n)</code>
                            <p>Vector to store balances.</p>
                        </div>
                    </div>

                    <div class="pros-cons">
                        <div class="pros">
                            <strong>‚úÖ Advantages:</strong>
                            <ul>
                                <li>Simple and intuitive approach</li>
                                <li>Easy to understand and explain</li>
                                <li>Good general-purpose algorithm</li>
                                <li>No special data structure knowledge needed</li>
                            </ul>
                        </div>
                        <div class="cons">
                            <strong>‚ùå Disadvantages:</strong>
                            <ul>
                                <li>Doesn't show actual payment paths</li>
                                <li>O(n log n) complexity due to sorting</li>
                                <li>Doesn't identify independent groups</li>
                            </ul>
                        </div>
                    </div>

                    <p><strong>When to Use:</strong> Best for general cases where you just need minimum settlements quickly.</p>
                </div>
            </div>

            <!-- Algorithm 2 Explanation -->
            <div class="explanation-card">
                <div class="exp-header algo-2">
                    <h3>Algorithm 2: DFS Graph Traversal</h3>
                    <span class="exp-by">Explained by: Person B</span>
                </div>
                <div class="exp-content">
                    <p><strong>Core Idea:</strong> Treat cash flow as a directed graph. Use Depth-First Search to find settlement paths from debtors to creditors.</p>
                    
                    <div class="code-block">
                        <strong>Pseudocode:</strong>
                        <pre>
1. Build adjacency list graph from transactions
2. Calculate net balance for each person
3. For each person with negative balance:
   - Use DFS to find settlement paths
   - Trace from debtor to creditor
   - Record payment along path
   - Mark visited to avoid cycles
4. Continue until all balanced
                        </pre>
                    </div>

                    <div class="complexity">
                        <div class="complexity-item">
                            <strong>Time Complexity:</strong> <code>O(V + E)</code>
                            <p>V = number of people, E = transactions.</p>
                        </div>
                        <div class="complexity-item">
                            <strong>Space Complexity:</strong> <code>O(V + E)</code>
                            <p>For adjacency list and recursion stack.</p>
                        </div>
                    </div>

                    <div class="pros-cons">
                        <div class="pros">
                            <strong>‚úÖ Advantages:</strong>
                            <ul>
                                <li>Shows actual transaction paths</li>
                                <li>Graph-based approach is educational</li>
                                <li>Linear time complexity O(V+E)</li>
                                <li>Natural for understanding relationships</li>
                            </ul>
                        </div>
                        <div class="cons">
                            <strong>‚ùå Disadvantages:</strong>
                            <ul>
                                <li>More complex implementation</li>
                                <li>Recursion can cause stack overflow for large graphs</li>
                                <li>Requires graph data structure</li>
                                <li>May not find optimal paths</li>
                            </ul>
                        </div>
                    </div>

                    <p><strong>When to Use:</strong> When you need to understand payment paths and have a smaller dataset.</p>
                </div>
            </div>

            <!-- Algorithm 3 Explanation -->
            <div class="explanation-card">
                <div class="exp-header algo-3">
                    <h3>Algorithm 3: Union-Find (Disjoint Sets)</h3>
                    <span class="exp-by">Explained by: Person C</span>
                </div>
                <div class="exp-content">
                    <p><strong>Core Idea:</strong> Group connected people using Union-Find data structure. Then solve each independent group separately.</p>
                    
                    <div class="code-block">
                        <strong>Pseudocode:</strong>
                        <pre>
1. Create Union-Find structure with parent and rank arrays
2. For each transaction, unite the two people involved
3. Find all connected components (groups)
4. For each independent component:
   - Apply greedy two-pointer approach
   - Settle debts within that group only
5. Combine results from all components
                        </pre>
                    </div>

                    <div class="complexity">
                        <div class="complexity-item">
                            <strong>Time Complexity:</strong> <code>O(n Œ±(n)) ‚âà O(n)</code>
                            <p>Œ± = inverse Ackermann function (practically constant).</p>
                        </div>
                        <div class="complexity-item">
                            <strong>Space Complexity:</strong> <code>O(n)</code>
                            <p>For parent and rank arrays.</p>
                        </div>
                    </div>

                    <div class="pros-cons">
                        <div class="pros">
                            <strong>‚úÖ Advantages:</strong>
                            <ul>
                                <li>Nearly linear time: O(n Œ±(n))</li>
                                <li>Identifies independent groups</li>
                                <li>Can optimize by solving groups separately</li>
                                <li>Very efficient with path compression</li>
                            </ul>
                        </div>
                        <div class="cons">
                            <strong>‚ùå Disadvantages:</strong>
                            <ul>
                                <li>Requires understanding Union-Find</li>
                                <li>More complex data structure</li>
                                <li>Only slightly better than greedy for this problem</li>
                            </ul>
                        </div>
                    </div>

                    <p><strong>When to Use:</strong> When you have disconnected groups and want to optimize computation.</p>
                </div>
            </div>

            <!-- Algorithm 4 Explanation -->
            <div class="explanation-card">
                <div class="exp-header algo-4">
                    <h3>Algorithm 4: Min-Heap Priority Queue</h3>
                    <span class="exp-by">Explained by: Person D</span>
                </div>
                <div class="exp-content">
                    <p><strong>Core Idea:</strong> Use two heaps - a min-heap for debtors and a max-heap for creditors. Repeatedly extract and match extremes.</p>
                    
                    <div class="code-block">
                        <strong>Pseudocode:</strong>
                        <pre>
1. Calculate net balances for all people
2. Create min-heap for debtors (negative balances)
3. Create max-heap for creditors (positive balances)
4. While both heaps are not empty:
   - Extract minimum debtor from min-heap
   - Extract maximum creditor from max-heap
   - Calculate settlement amount
   - Record settlement
   - If not fully settled, push back to respective heap
                        </pre>
                    </div>

                    <div class="complexity">
                        <div class="complexity-item">
                            <strong>Time Complexity:</strong> <code>O(n log n)</code>
                            <p>n heap insertions and extractions.</p>
                        </div>
                        <div class="complexity-item">
                            <strong>Space Complexity:</strong> <code>O(n)</code>
                            <p>Two heaps storing balances.</p>
                        </div>
                    </div>

                    <div class="pros-cons">
                        <div class="pros">
                            <strong>‚úÖ Advantages:</strong>
                            <ul>
                                <li>Uses efficient priority queue structure</li>
                                <li>Always picks optimal pair (extremes)</li>
                                <li>Good for streaming/dynamic data</li>
                                <li>Shows heap applications well</li>
                            </ul>
                        </div>
                        <div class="cons">
                            <strong>‚ùå Disadvantages:</strong>
                            <ul>
                                <li>O(n log n) complexity (not better than sorting)</li>
                                <li>Extra overhead of heap operations</li>
                                <li>Similar results to greedy algorithm</li>
                                <li>More memory overhead than vector</li>
                            </ul>
                        </div>
                    </div>

                    <p><strong>When to Use:</strong> When working with streaming data or when you benefit from heap properties for other operations.</p>
                </div>
            </div>

            <!-- Summary -->
            <div class="explanation-card summary-card">
                <h3>üìä Algorithm Comparison Summary</h3>
                <div class="summary-grid">
                    <div class="summary-item">
                        <h4>Algorithm 1: Greedy</h4>
                        <p>Best for: Quick, simple solutions</p>
                        <p class="small">Complexity: O(n log n)</p>
                    </div>
                    <div class="summary-item">
                        <h4>Algorithm 2: DFS</h4>
                        <p>Best for: Understanding paths</p>
                        <p class="small">Complexity: O(V + E)</p>
                    </div>
                    <div class="summary-item">
                        <h4>Algorithm 3: Union-Find</h4>
                        <p>Best for: Connected components</p>
                        <p class="small">Complexity: O(n Œ±(n))</p>
                    </div>
                    <div class="summary-item">
                        <h4>Algorithm 4: Heap</h4>
                        <p>Best for: Priority-based solutions</p>
                        <p class="small">Complexity: O(n log n)</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Cash Flow Simplification Project | Data Structures & Algorithms Class</p>
        <p>4-Person Team Project: Algorithm Design, Implementation & Comparison</p>
    </footer>

    <!-- Walkthrough Modal -->
    <div id="walkthrough-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeWalkthrough()">&times;</span>
            <h2 id="walkthrough-title">Algorithm Walkthrough</h2>
            <div id="walkthrough-body"></div>
        </div>
    </div>

    <script src="js/main.js"></script>
    <script src="js/api.js"></script>
    <script src="js/visualization.js"></script>
</body>
</html>
